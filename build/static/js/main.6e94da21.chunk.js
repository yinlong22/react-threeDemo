(this["webpackJsonpreact-three-demo"]=this["webpackJsonpreact-three-demo"]||[]).push([[0],{29:function(e,n,t){},38:function(e,n,t){},49:function(e,n,t){},50:function(e,n,t){"use strict";t.r(n);var o=t(7),i=t.n(o),a=t(31),r=t.n(a),d=(t(38),t(29),t(15)),s=t(9),c=t(0),w=function(e){var n=document.querySelector(".showDemos");n&&(n.innerHTML="",n.appendChild(e))},l=t(8),h=function(){var e=new c.tb,n=new c.ib(75,window.innerWidth/window.innerHeight,.1,1e3),t=new c.Mb;t.setSize(window.innerWidth,window.innerHeight),w(t.domElement);var o=new c.g,i=new c.U({color:65280}),a=new c.T(o,i);e.add(a),n.position.z=5;return function o(){requestAnimationFrame(o),a.rotation.x+=.01,a.rotation.y+=.01,t.render(e,n)}(),Object(l.jsx)("div",{})},u=function(){var e=new c.Mb;e.setSize(window.innerWidth,window.innerHeight),w(e.domElement);var n=new c.ib(45,window.innerWidth/window.innerHeight,1,500);n.position.set(0,0,100),n.lookAt(0,0,0);var t=new c.tb,o=new c.F({color:255}),i=[];i.push(new c.Kb(-10,0,0)),i.push(new c.Kb(0,10,0)),i.push(new c.Kb(10,0,0));var a=(new c.i).setFromPoints(i);new c.E(a,o);var r=new c.E(a,o);return t.add(r),e.render(t,n),Object(l.jsx)("div",{})},p=function(){return Object(l.jsxs)("div",{className:"nav",children:[Object(l.jsx)(d.b,{to:"/DrawLineDemo",children:"\u753b\u7ebfdemo"}),Object(l.jsx)(d.b,{to:"/InitDemo",children:"\u6eda\u52a8demo"}),Object(l.jsx)(d.b,{to:"/FontDemo",children:"\u6587\u5b57demo"}),Object(l.jsx)(d.b,{to:"/3DGlb",children:"3D-glb"}),Object(l.jsx)(d.b,{to:"/3DTexture",children:"3D-texture"}),Object(l.jsx)(d.b,{to:"/TDAnimation",children:"3D-Animation"}),Object(l.jsx)(d.b,{to:"/TDEarth",children:"3D-Earth"}),Object(l.jsx)(d.b,{to:"/BeautifulEarth",children:"3D-BeautifulEarth"}),Object(l.jsx)(d.b,{to:"/EarthScreen",children:"3D-EarthScreen"})]})},m=t(14),b=function(){var e,n,t;function o(){e.aspect=window.innerWidth/window.innerHeight,e.updateProjectionMatrix(),t.setSize(window.innerWidth,window.innerHeight)}return function(){(e=new c.ib(45,window.innerWidth/window.innerHeight,1,1e4)).position.set(100,-1600,1800),(n=new c.tb).background=new c.l(15790320),(new c.t).load("/helvetiker_bold.typeface.json",(function(e){var t=new c.F({color:26265,side:c.o}),o=new c.U({color:26265,transparent:!0,opacity:.4,side:c.o}),i=e.generateShapes("   Text What\nYou Want to text.",100),a=new c.ub(i);a.computeBoundingBox();var r=-.5*(a.boundingBox.max.x-a.boundingBox.min.x);a.translate(r,0,0);var d=new c.T(a,o);d.position.z=-150,n.add(d);for(var s=[],w=0;w<i.length;w++){var l=i[w];if(l.holes&&l.holes.length>0)for(var h=0;h<l.holes.length;h++){var u=l.holes[h];s.push(u)}}i.push.apply(i,s);for(var p=new c.db,m=0;m<i.length;m++){var b=i[m].getPoints(),f=(new c.i).setFromPoints(b);f.translate(r,0,0);var v=new c.E(f,t);p.add(v)}n.add(p)})),(t=new c.Mb({antialias:!0})).setPixelRatio(window.devicePixelRatio),t.setSize(window.innerWidth,window.innerHeight),w(t.domElement);var i=new m.a(e,t.domElement);i.target.set(0,0,0),i.update(),window.addEventListener("resize",o)}(),function o(){requestAnimationFrame(o),t.render(n,e)}(),Object(l.jsx)("div",{})},f=t(22),v=function(){var e,n,t;function o(){e.setSize(window.innerWidth,window.innerHeight),t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),i()}function i(){e.render(n,t)}return function(){(e=new c.Mb).setSize(window.innerWidth,window.innerHeight),w(e.domElement),e.outputEncoding=c.Nb,n=new c.tb,(t=new c.ib(40,window.innerWidth/window.innerHeight,1,1e3)).position.set(-10,0,23),n.add(t);var a=new m.a(t,e.domElement);a.addEventListener("change",i),a.minDistance=10,a.maxDistance=50,a.enablePan=!1,n.add(new c.b(16777215,.2));var r=new c.kb(16777215,1.5);t.add(r),(new f.a).load("/Nefertiti.glb",(function(e){e.scene.traverse((function(e){e.isMesh&&(e.material.normalMapType=c.eb,e.geometry.deleteAttribute("normal"),e.material.side=c.o,e.scale.multiplyScalar(.5),(new c.f).setFromObject(e).getCenter(e.position).multiplyScalar(-1),n.add(e))})),i()})),window.addEventListener("resize",o)}(),Object(l.jsx)("div",{})},j=function(){var e,n,t,o,i={offsetX:0,offsetY:0,repeatX:.25,repeatY:.25,rotation:Math.PI/4,centerX:.5,centerY:.5};function a(){n.render(t,o)}function r(){o.aspect=window.innerWidth/window.innerHeight,o.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight),a()}return function(){(n=new c.Mb).setPixelRatio(window.devicePixelRatio),n.setSize(window.innerWidth,window.innerHeight),w(n.domElement),t=new c.tb,(o=new c.ib(40,window.innerWidth/window.innerHeight,1,1e3)).position.set(10,15,25),t.add(o);var d=new m.a(o,n.domElement);d.addEventListener("change",a),d.minDistance=20,d.maxDistance=50,d.maxPolarAngle=Math.PI/2;var s=new c.g(10,10,10);(new c.Gb).load("/uv_grid_opengl.jpg",(function(o){o.wrapS=o.wrapT=c.sb,o.anisotropy=n.capabilities.getMaxAnisotropy();var r=new c.U({map:o});e=new c.T(s,r),t.add(e),function(){var n=e.material.map;!0===n.matrixAutoUpdate?(n.offset.set(i.offsetX,i.offsetY),n.repeat.set(i.repeatX,i.repeatY),n.center.set(i.centerX,i.centerY),n.rotation=i.rotation):n.matrix.identity().translate(-i.centerX,-i.centerY).rotate(i.rotation).scale(i.repeatX,i.repeatY).translate(i.centerX,i.centerY).translate(i.offsetX,i.offsetY);a()}(),a()})),window.addEventListener("resize",r)}(),Object(l.jsx)("div",{})},g=t(18),x=t(33),y=function(){var e,n,t,o,i,a,r,d,s,h,u,p,m,b={state:"Walking"};function v(e,n){d=r,r=a[e],d!==r&&d.fadeOut(n),r.reset().setEffectiveTimeScale(1).setEffectiveWeight(1).fadeIn(n).play()}function j(){s.aspect=window.innerWidth/window.innerHeight,s.updateProjectionMatrix(),u.setSize(window.innerWidth,window.innerHeight)}return function(){if(e=document.querySelector(".showDemos"),!document.querySelector(".showDemos"))return;(s=new c.ib(45,window.innerWidth/window.innerHeight,.25,100)).position.set(-5,3,10),s.lookAt(new c.Kb(0,2,0)),(h=new c.tb).background=new c.l(14737632),h.fog=new c.s(14737632,20,100),t=new c.k;var d=new c.x(16777215,4473924);d.position.set(0,20,0),h.add(d);var l=new c.n(16777215);l.position.set(0,20,10),h.add(l);var y=new c.T(new c.jb(2e3,2e3),new c.V({color:10066329,depthWrite:!1}));y.rotation.x=-Math.PI/2,h.add(y);var E=new c.v(200,40,0,0);E.material.opacity=.2,E.material.transparent=!0,h.add(E),(new f.a).load("/RobotExpressive.glb",(function(e){p=e.scene,h.add(p),function(e,n){document.querySelectorAll(".a")[0]&&document.querySelectorAll(".a")[0].remove();var t=["Idle","Walking","Running","Dance","Death","Sitting","Standing"],d=["Jump","Yes","No","Wave","Punch","ThumbsUp"];o=new x.a,i=new c.d(e),a={};for(var s=0;s<n.length;s++){var w=n[s],l=i.clipAction(w);a[w.name]=l,(d.indexOf(w.name)>=0||t.indexOf(w.name)>=4)&&(l.clampWhenFinished=!0,l.loop=c.N)}var h=o.addFolder("States");h.add(b,"state").options(t).onChange((function(){v(b.state,.5)})),h.open();var u=o.addFolder("Emotes");function p(e){b[e]=function(){v(e,.2),i.addEventListener("finished",f)},u.add(b,e)}function f(){i.removeEventListener("finished",f),v(b.state,.2)}for(var j=0;j<d.length;j++)p(d[j]);u.open(),m=e.getObjectByName("Head_4");for(var g=Object.keys(m.morphTargetDictionary),y=o.addFolder("Expressions"),E=0;E<g.length;E++)y.add(m.morphTargetInfluences,E,0,1,.01).name(g[E]);(r=a.Walking).play(),y.open()}(p,e.animations)}),void 0,(function(e){console.error(e)})),(u=new c.Mb({antialias:!0})).setPixelRatio(window.devicePixelRatio),u.setSize(window.innerWidth,window.innerHeight),u.outputEncoding=c.Nb,w(u.domElement),window.addEventListener("resize",j),n=new g.a,e.appendChild(n.dom)}(),function e(){if(!document.querySelector(".showDemos"))return;var o=t.getDelta();i&&i.update(o);requestAnimationFrame(e),u.render(h,s),n.update()}(),Object(l.jsx)("div",{})},E=function(){var e,n,t,o,i,a,r,d;function s(){r.update(),d.update(),o.rotation.y-=.002,i.rotation.y-=.005,i.rotation.z+=.005,t.render(e,n),requestAnimationFrame(s)}return(t=new c.Mb({antialias:!0,alpha:!0,canvas:t})).setSize(window.innerWidth,window.innerHeight),w(t.domElement),t.setClearColor(0,1),e=new c.tb,(n=new c.ib(45,window.innerWidth/window.innerHeight,.1,1e4)).position.x=-500,n.position.y=500,n.position.z=-500,function(){d=new g.a;var e=document.querySelector(".showDemos");e&&e.appendChild(d.dom)}(),(a=new c.b(16777215)).position.set(100,100,200),e.add(a),function(){var n=new c.yb(200,100,100),t=new c.V({map:(new c.Gb).load("/earthNormal.jpg")});o=new c.T(n,t),e.add(o)}(),function(){var n=new c.yb(201,100,100),t=new c.V({alphaMap:(new c.Gb).load("/clouds.jpg"),transparent:!0,opacity:.2});i=new c.T(n,t),e.add(i)}(),r=new m.a(n,t.domElement),t.clear(),s(),Object(l.jsx)("div",{})},O=function(){var e,n,t,i,a,r,d,s,h=null;function u(){var n=new c.U({map:(new c.Gb).load("/location.png"),transparent:!0,depthWrite:!1}),t=new c.jb(3,3);(h=new c.T(t,n)).scale.set(5,5,5);var o=function(e,n,t){var o=(90+e)*(Math.PI/180),i=(90-n)*(Math.PI/180);return(new c.Kb).setFromSpherical(new c.zb(t,i,o))}(104.071833,30.580517,202);(new c.t).load("/helvetiker_bold.typeface.json",(function(n){var t=new c.U({color:26265,opacity:.4,side:c.o}),i=n.generateShapes("chengdu",8),a=new c.ub(i);a.computeBoundingBox();var r=new c.T(a,t);r.position.set(o.x+16,o.y+12,o.z-2),r.rotateY(Math.PI),e.add(r)}));var i=new c.m(8,30,30),a=new c.V({color:4224762,transparent:!0,opacity:.9}),r=new c.T(i,a).rotateX(Math.PI/2),d=new c.w;d.add(h,r),d.position.set(o.x,o.y,o.z);var s=new c.Kb(o.x,o.y,o.z).normalize(),w=new c.Kb(0,0,1);d.quaternion.setFromUnitVectors(w,s),setTimeout((function(){e.add(d)}),1e3)}function p(){(t=new c.Mb({antialias:!0,alpha:!0,canvas:t})).setSize(window.innerWidth,window.innerHeight),w(t.domElement),t.setClearColor(0,1),e=new c.tb,(n=new c.ib(45,window.innerWidth/window.innerHeight,.1,1e4)).position.x=-500,n.position.y=500,n.position.z=-500,function(){for(var n=[],t=[],o=new c.i,i=0;i<5e3;i++){var a=new c.Kb;a.x=2*Math.random()-1,a.y=2*Math.random()-1,a.z=2*Math.random()-1,n.push(a.x,a.y,a.z);var r=new c.l;r.setHSL(.2*Math.random()+.5,.55,.25*Math.random()+.55),t.push(r.r,r.g,r.b)}o.setAttribute("position",new c.r(n,3)),o.setAttribute("color",new c.r(t,3));var d=new c.gb({size:1,transparent:!0,opacity:1,vertexColors:!0,blending:c.a,sizeAttenuation:!0}),s=new c.hb(o,d);s.scale.set(300,300,300),e.add(s)}(),function(){s=new g.a;var e=document.querySelector(".showDemos");e&&e.appendChild(s.dom)}(),(r=new c.b(16777215)).position.set(100,100,200),e.add(r),function(){var n=new c.yb(200,100,100),t=new c.V({map:(new c.Gb).load("/earth_atmos_2048.jpg")});i=new c.T(n,t),e.add(i)}(),function(){var n=new c.yb(201,100,100),t=new c.V({alphaMap:(new c.Gb).load("/earth_clouds_2048.png"),transparent:!0,opacity:.2});a=new c.T(n,t),e.add(a)}(),u(),d=new m.a(n,t.domElement),b()}function b(){s.update(),a.rotation.y-=.005,a.rotation.z+=.005,t.clear(),t.render(e,n),requestAnimationFrame((function(){d&&(d.update(),b())}))}return Object(o.useEffect)((function(){p()}),[p]),Object(l.jsx)("div",{})},M=[{name:"SHANGHAI",coord:[30.4,120.52]},{name:"BEIJING",coord:[39.92,116.46]},{name:"WASHINGTON",coord:[38.91,-77.02]},{name:"MELBOURNE",coord:[-37.5,144.58]},{name:"RIO",coord:[-22.54,-43.12]},{name:"LONDON",coord:[51.3,.5]},{name:"ANTARCTICA",coord:[-90,360]},{name:"GREENLAND",coord:[75.930886,-40.253906]},{name:"NAMIBIA",coord:[-22.57,17.086117]}],S=t(23),D=t(28),W=(t(49),function(){var e,n,t,i,a,r,d,s,h=null,u=new c.Jb,p=new c.w,b=new c.rb,f=new c.Gb,v=(Math.PI/2).toFixed(2);function j(e){e.preventDefault(),u.x=e.clientX/window.innerWidth*2-1,u.y=-e.clientY/window.innerHeight*2+1,b.setFromCamera(u,n);var t=b.intersectObjects(p.children,!0);t.length>0&&t[0].object.name&&(h&&h.scale.set(20,20,1),x(h=t[0].object))}function x(e){e.scale.set(30,30,1);var n=e.name,t=document.querySelector(".showCity");setTimeout((function(){t.innerText=n}),500);for(var o,a=(o=e.coord,{x:Object(D.a)(o.lt),y:Object(D.a)(o.lg)}),d=-a.y;i.rotation.y>0&&d+2*Math.PI<i.rotation.y;)d+=2*Math.PI;for(;i.rotation.y<0&&d-2*Math.PI>i.rotation.y;)d-=2*Math.PI;Math.abs(d-i.rotation.y)>Math.PI&&(d>i.rotation.y?d-=2*Math.PI:d+=2*Math.PI);var c,w,l=a.x-i.rotation.x+r.object.rotation.x,h=d-i.rotation.y-v+r.object.rotation.y;c=l,w=h,s&&s.stop(),(s=new S.a.Tween({rotateY:i.rotation.y,rotateX:i.rotation.x,rotateLoc:p.rotation.y}).to({rotateY:i.rotation.y+w,rotateX:i.rotation.x+c,rotateLoc:p.rotation.y+w},1e3)).easing(S.a.Easing.Sinusoidal.InOut),s.onUpdate((function(){i.rotation.y=this._object.rotateY,i.rotation.x=this._object.rotateX,p.rotation.y=this._object.rotateLoc,p.rotation.x=this._object.rotateX})),s.onComplete((function(){})),s.start()}function y(){d.update(),t.clear(),t.render(e,n),requestAnimationFrame((function(){S.a.update(),r&&(r.update(),y())}))}return Object(o.useEffect)((function(){var o;(t=new c.Mb({antialias:!0,alpha:!0,canvas:t})).setSize(window.innerWidth,window.innerHeight),w(t.domElement),t.setClearColor(0,1),(e=new c.tb).opacity=0,e.transparent=!0,(n=new c.ib(75,window.innerWidth/window.innerHeight,.1,1e4)).position.z=500,function(){d=new g.a;var e=document.querySelector(".showDemos");e&&e.appendChild(d.dom)}(),function(){var n=new c.b(16777215);n.position.set(100,100,200),(a=new c.n(16777147,1)).position.set(-11,3,1);var t=new c.Ab(3750201,2.5);t.position.set(-15,10,21),e.add(n,a,t)}(),function(){var n=new c.yb(200,100,100),t=new c.V({specular:4210752,shininess:5,map:f.load("/earth.jpg"),specularMap:f.load("/earth_spec.jpg"),bumpMap:f.load("/earth_bump.jpg")});(i=new c.T(n,t)).rotation.y=-v,i.name="earth",e.add(i)}(),M.forEach((function(n){var t=new c.Bb(new c.Cb({map:f.load("/location.png"),depthWrite:!1})),o=function(e,n,t){var o=c.Q.degToRad(e),i=c.Q.degToRad(n),a=t*Math.sin(i),r=t*Math.cos(i),d=r*Math.sin(o),s=r*Math.cos(o);return{x:d,y:a,z:s}}(n.coord[1],n.coord[0],210);t.coord={lg:n.coord[1],lt:n.coord[0]},t.position.set(o.x,o.y,o.z),t.scale.set(20,20,1),t.name=n.name;var i=new c.Bb(new c.Cb({color:0,map:f.load("/i_".concat(n.name.toLowerCase(),".png")),depthWrite:!1}));i.position.set(o.x,o.y,o.z),i.scale.set(50,50,1.5),p.add(t,i),e.add(p)})),document.addEventListener("mousedown",j),r=new m.a(n,t.domElement),y(),o="SHANGHAI",x(h=p.children.find((function(e){return e.name===o})))}),[]),Object(l.jsx)("div",{className:"showCity"})});var z=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsxs)(d.a,{children:[Object(l.jsx)(p,{}),Object(l.jsx)(s.a,{exact:!0,path:"/"}),Object(l.jsx)(s.a,{path:"/DrawLineDemo",component:u}),Object(l.jsx)(s.a,{path:"/InitDemo",component:h}),Object(l.jsx)(s.a,{path:"/FontDemo",component:b}),Object(l.jsx)(s.a,{path:"/3DGlb",component:v}),Object(l.jsx)(s.a,{path:"/3DTexture",component:j}),Object(l.jsx)(s.a,{path:"/TDAnimation",component:y}),Object(l.jsx)(s.a,{path:"/TDEarth",component:E}),Object(l.jsx)(s.a,{path:"/BeautifulEarth",component:O}),Object(l.jsx)(s.a,{path:"/EarthScreen",component:W})]}),Object(l.jsx)("div",{className:"showDemos"})]})};r.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(z,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.6e94da21.chunk.js.map